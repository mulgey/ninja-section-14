(this["webpackJsonpmy-money"]=this["webpackJsonpmy-money"]||[]).push([[0],{17:function(e,t,n){e.exports={container:"Home_container__1yCOn",content:"Home_content__1BOCW",sidebar:"Home_sidebar__1kcEq",transactions:"Home_transactions__yNvPv",name:"Home_name__32P0u",amount:"Home_amount__1_7rw"}},29:function(e,t,n){e.exports={navbar:"Navbar_navbar__6Tnyb",title:"Navbar_title__2LWYo"}},34:function(e,t,n){e.exports={"login-form":"Login_login-form__3KjZa"}},35:function(e,t,n){e.exports={"signup-form":"Signup_signup-form__3qz_a"}},42:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(33),s=n.n(c),u=(n(42),n(20)),i=n(16),l=n(5),o=n(9),j=n(23);n(53),n(44);j.a.initializeApp({apiKey:"AIzaSyBLrBAGH2ycXKMKN3FADPBv4hZtBrkmGtA",authDomain:"menkuldegerler-8be4a.firebaseapp.com",projectId:"menkuldegerler-8be4a",storageBucket:"menkuldegerler-8be4a.appspot.com",messagingSenderId:"680942438061",appId:"1:680942438061:web:5a8b322e147d261121e824"});var b=j.a.firestore(),O=j.a.auth(),d=j.a.firestore.Timestamp,p=n(1),h=Object(a.createContext)(),f=function(e,t){switch(t.type){case"LOGIN":return Object(o.a)(Object(o.a)({},e),{},{user:t.payload});case"LOGOUT":return Object(o.a)(Object(o.a)({},e),{},{user:null});case"AUTH_HAZIR_KITA":return Object(o.a)(Object(o.a)({},e),{},{user:t.payload,"authHaz\u0131rK\u0131ta":!0});default:return e}},m=function(e){var t=e.children,n=Object(a.useReducer)(f,{user:null,"authHaz\u0131rK\u0131ta":!1}),r=Object(l.a)(n,2),c=r[0],s=r[1];return Object(a.useEffect)((function(){var e=O.onAuthStateChanged((function(t){s({type:"AUTH_HAZIR_KITA",payload:t}),e()}))}),[]),console.log("Authcontext state",c),Object(p.jsx)(h.Provider,{value:Object(o.a)(Object(o.a)({},c),{},{dispatch:s}),children:t})},x=function(){var e=Object(a.useContext)(h);if(!e)throw new Error("useAuthContext(), AuthSa\u011flay\u0131c\u0131'n\u0131n kapsam\u0131 i\xe7erisinde kullan\u0131lmal\u0131d\u0131r");return e},y=n(31),v=n(17),g=n.n(v),k=n(10),_=n.n(k),S=n(15),w={document:null,yukleniyor:!1,error:null,success:null},E=function(e,t){switch(t.type){case"YUKLENIYOR":return{yukleniyor:!0,document:null,error:null,success:null};case"DOC_EKLE":return{yukleniyor:!1,document:t.payload,success:!0,error:null};case"DOC_SIL":return{yukleniyor:!1,document:null,success:!0,error:null};case"ERROR":return{yukleniyor:!1,document:null,success:null,error:t.payload};default:return e}},N=function(e){var t=Object(a.useReducer)(E,w),n=Object(l.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!1),u=Object(l.a)(s,2),i=u[0],j=u[1],O=b.collection(e),p=function(e){i||c(e)},h=function(){var e=Object(S.a)(_.a.mark((function e(t){var n,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"YUKLENIYOR"}),e.prev=1,n=d.fromDate(new Date),e.next=5,O.add(Object(o.a)(Object(o.a)({},t),{},{"olu\u015fturmaZaman\u0131":n}));case 5:a=e.sent,p({type:"DOC_EKLE",payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),p({type:"ERROR",payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(S.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"YUKLENIYOR"}),e.prev=1,e.next=4,O.doc(t).delete();case 4:p({type:"DOC_SIL"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),p({type:"ERROR",payload:e.t0.message+"yani silemedim"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return function(){return j(!0)}}),[]),{"d\xf6k\xfcmanEkle":h,"d\xf6k\xfcmanSil":f,response:r}};function I(e){var t=e.userID,n=Object(a.useState)(""),r=Object(l.a)(n,2),c=r[0],s=r[1],u=Object(a.useState)(""),i=Object(l.a)(u,2),o=i[0],j=i[1],b=N("transactions"),O=b.d\u00f6k\u00fcmanEkle,d=b.response;return Object(a.useEffect)((function(){d.success&&(s(""),j(""))}),[d.success]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{children:"Kay\u0131t Ekle"}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),O({userID:t,isim:c,miktar:o})},children:[Object(p.jsxs)("label",{children:[Object(p.jsx)("span",{children:"Kay\u0131t ismi:"}),Object(p.jsx)("input",{type:"text",required:!0,onChange:function(e){return s(e.target.value)},value:c})]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("span",{children:"Miktar:"}),Object(p.jsx)("input",{type:"number",required:!0,onChange:function(e){return j(e.target.value)},value:o})]}),Object(p.jsx)("button",{children:"Kay\u0131t Ekle"})]})]})}function C(e){var t=e.hesapHareketleri,n=N("transactions"),a=n.d\u00f6k\u00fcmanSil,r=n.response;return console.log(r),Object(p.jsx)("ul",{className:g.a.transactions,children:t.map((function(e){return Object(p.jsxs)("li",{children:[Object(p.jsx)("p",{className:g.a.name,children:e.isim}),Object(p.jsxs)("p",{className:g.a.amount,children:["$",e.miktar]}),Object(p.jsx)("button",{onClick:function(){return a(e.id)},children:"x"})]},e.id)}))})}function K(){var e=x().user,t=function(e,t,n){var r=Object(a.useState)(null),c=Object(l.a)(r,2),s=c[0],u=c[1],i=Object(a.useState)(null),j=Object(l.a)(i,2),O=j[0],d=j[1],p=Object(a.useRef)(t).current,h=Object(a.useRef)(n).current;return Object(a.useEffect)((function(){var t,n,a=b.collection(e);p&&(a=(t=a).where.apply(t,Object(y.a)(p))),h&&(a=(n=a).orderBy.apply(n,Object(y.a)(h)));var r=a.onSnapshot((function(e){var t=[];e.docs.forEach((function(e){t.push(Object(o.a)(Object(o.a)({},e.data()),{},{id:e.id}))})),u(t),d(null)}),(function(e){d(e.message+"Yani veri \xe7ekemedim")}));return function(){return r()}}),[e,p,h]),{"d\xf6k\xfcmanlar":s,hata:O}}("transactions",["userID","==",e.uid],["olu\u015fturmaZaman\u0131","desc"]),n=t.d\u00f6k\u00fcmanlar,r=t.hata;return Object(p.jsxs)("div",{className:g.a.container,children:[Object(p.jsxs)("div",{className:g.a.content,children:[r&&Object(p.jsx)("p",{children:r}),n&&Object(p.jsx)(C,{hesapHareketleri:n})]}),Object(p.jsx)("div",{className:g.a.sidebar,children:Object(p.jsx)(I,{userID:e.uid})})]})}var A=n(34),L=n.n(A);function R(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),s=Object(l.a)(c,2),u=s[0],i=s[1],o=function(e,t){var n=Object(a.useState)(!1),r=Object(l.a)(n,2),c=r[0],s=r[1],u=Object(a.useState)(null),i=Object(l.a)(u,2),o=i[0],j=i[1],b=Object(a.useState)(!1),d=Object(l.a)(b,2),p=d[0],h=d[1],f=x().dispatch,m=function(){var e=Object(S.a)(_.a.mark((function e(t,n){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(null),h(!0),e.prev=2,e.next=5,O.signInWithEmailAndPassword(t,n);case 5:a=e.sent,f({type:"LOGIN",payload:a.user}),c||(h(!1),j(null)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),c||(j(e.t0.message),h(!1));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return function(){return s(!0)}}),[]),{"giri\u015f":m,hata:o,"y\xfckl\xfcyor":p}}(),j=o.giri\u015f,b=o.hata,d=o.y\u00fckl\u00fcyor;return Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j(n,u)},className:L.a["login-form"],children:[Object(p.jsx)("h2",{children:"Login"}),Object(p.jsxs)("label",{children:[Object(p.jsx)("span",{children:"email:"}),Object(p.jsx)("input",{type:"email",onChange:function(e){return r(e.target.value)},value:n})]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("span",{children:"password:"}),Object(p.jsx)("input",{type:"password",onChange:function(e){return i(e.target.value)},value:u})]}),!d&&Object(p.jsx)("button",{className:"btn",children:"Giri\u015f yap!"}),d&&Object(p.jsx)("button",{className:"btn",disabled:!0,children:"Giri\u015f yap\u0131l\u0131yor ..."}),b&&Object(p.jsx)("p",{children:b})]})}var D=n(35),H=n.n(D);function G(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),s=Object(l.a)(c,2),u=s[0],i=s[1],o=Object(a.useState)(""),j=Object(l.a)(o,2),b=j[0],d=j[1],h=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),s=Object(l.a)(c,2),u=s[0],i=s[1],o=Object(a.useState)(!1),j=Object(l.a)(o,2),b=j[0],d=j[1],p=x().dispatch,h=function(){var e=Object(S.a)(_.a.mark((function e(t,a,r){var c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(null),d(!0),e.prev=2,e.next=5,O.createUserWithEmailAndPassword(t,a);case 5:if(c=e.sent,console.log(c.user),c){e.next=9;break}throw new Error("Kay\u0131t i\u015flemi tamamlanamad\u0131");case 9:return e.next=11,c.user.updateProfile({displayName:r});case 11:p({type:"LOGIN",payload:c.user}),n||(d(!1),i(null)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),n||(i(e.t0.message),d(!1));case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,n,a){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return function(){return r(!0)}}),[]),{hata:u,"y\xfckl\xfcyor":b,"kay\u0131t":h}}(),f=h.hata,m=h.y\u00fckl\u00fcyor,y=h.kay\u0131t;return Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),y(n,u,b)},className:H.a["signup-form"],children:[Object(p.jsx)("h2",{children:"Signup"}),Object(p.jsxs)("label",{children:[Object(p.jsx)("span",{children:"email:"}),Object(p.jsx)("input",{type:"email",onChange:function(e){return r(e.target.value)},value:n})]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("span",{children:"password:"}),Object(p.jsx)("input",{type:"password",onChange:function(e){return i(e.target.value)},value:u})]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("span",{children:"kullan\u0131c\u0131:"}),Object(p.jsx)("input",{type:"text",onChange:function(e){return d(e.target.value)},value:b})]}),!m&&Object(p.jsx)("button",{className:"btn",children:"Kay\u0131t ol!"}),f&&Object(p.jsx)("p",{children:f}),m&&Object(p.jsx)("button",{className:"btn",disabled:!0,children:"Y\xfckleniyor"})]})}var Y=n(29),B=n.n(Y);function T(){var e=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),s=Object(l.a)(c,2),u=s[0],i=s[1],o=Object(a.useState)(!1),j=Object(l.a)(o,2),b=j[0],d=j[1],p=x().dispatch,h=function(){var e=Object(S.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(null),d(!0),e.prev=2,e.next=5,O.signOut();case 5:p({type:"LOGOUT"}),n||(d(!1),i(null)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n||(i(e.t0.message),d(!1));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return function(){return r(!0)}}),[]),{"\xe7\u0131k\u0131\u015f":h,hata:u,"y\xfckl\xfcyor":b}}().\u00e7\u0131k\u0131\u015f,t=x().user;return Object(p.jsx)("nav",{className:B.a.navbar,children:Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{className:B.a.title,children:Object(p.jsx)(u.b,{to:"/",children:"menkulDe\u011ferler"})}),!t&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("li",{children:Object(p.jsx)(u.b,{to:"/login",children:"Login"})}),Object(p.jsx)("li",{children:Object(p.jsx)(u.b,{to:"/signup",children:"Signup"})})]}),t&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("li",{children:["Merhaba sevgili ",t.displayName,"..!"]}),Object(p.jsx)("li",{children:Object(p.jsx)("button",{className:"btn",onClick:e,children:"Logout"})})]})]})})}var U=function(){var e=x(),t=e.authHaz\u0131rK\u0131ta,n=e.user;return Object(p.jsx)("div",{className:"App",children:t&&Object(p.jsxs)(u.a,{children:[Object(p.jsx)(T,{}),Object(p.jsxs)(i.d,{children:[Object(p.jsxs)(i.b,{exact:!0,path:"/",children:[!n&&Object(p.jsx)(i.a,{to:"/login"}),n&&Object(p.jsx)(K,{})]}),Object(p.jsxs)(i.b,{path:"/login",children:[n&&Object(p.jsx)(i.a,{to:"/"}),!n&&Object(p.jsx)(R,{})]}),Object(p.jsxs)(i.b,{path:"/signup",children:[n&&Object(p.jsx)(i.a,{to:"/"}),!n&&Object(p.jsx)(G,{})]}),Object(p.jsx)(i.b,{path:"*",children:Object(p.jsx)(i.a,{to:"/"})})]})]})})};s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(m,{children:Object(p.jsx)(U,{})})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.3ff83046.chunk.js.map